<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head runat="server">
    <base th:href="${#request.getContextPath()}+'/'">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>login</title>
    <link href="css/login.css" rel="stylesheet" />
<!--    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <link href="https://v3.bootcss.com/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">-->
<!--    <link href="https://v3.bootcss.com/examples/signin/signin.css" rel="stylesheet">-->
<!--    <script src="https://v3.bootcss.com/assets/js/ie8-responsive-file-warning.js"></script>-->
<!--    <script src="https://v3.bootcss.com/assets/js/ie-emulation-modes-warning.js"></script>-->
    <script src="js/jquery-3.1.1.js"></script>
</head>
<body>
<form runat ="server" class ="login-box">
    <h1>欢迎登陆</h1>
    <div class="textbox">
        <i class="fa fa-user" aria-hidden="true"></i>
        <input type="text" placeholder="请输入用户名" id="username"/>
    </div>
    <div class="textbox">
        <i class="fa fa-lock" aria-hidden="true"></i>
        <input type="password" placeholder="请输入密码" id="password" />
    </div>
    <input class="btn" type="button" value="登录" runat="server" onclick="login()"/>
</form>
<script>
    function login() {
        //用户名和密码
        var username = $("#username").val();
        var password = $("#password").val();
        //通过ajax将用户名和密码传递到controller
        $.post("login",{"username":username,"password":password},
            function (data) {
                if (data.code == 0) {
                    window.location.href=data.obj;
                } else {
                    if(data.obj == undefined) {
                        alert("请联系客服")
                    } else {
                        alert(data.obj);
                    }
                }
        });
    }
</script>
</body>
</html>
